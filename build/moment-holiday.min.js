//! moment-holiday.js
//! version : 1.5.1
//! author : Kodie Grantham
//! license : MIT
//! https://github.com/kodie/moment-holiday
!function(){function l(e,t,r,n,a){var i=n?{}:[];t=P(t),a=a||_.holidays.active;for(var o=0;o<t.length;o++){var s=d(e,t[o],r,n,a);s&&(i=n?y(i,s):i.concat(s))}return i}function f(e){if(e=(regions=e.split("/"))[0].toLowerCase().replace(" ","_"),regions.shift(),!_.holidays[e])try{var t="./locale/";"build"==__dirname.split("/").slice(-1).pop()&&(t="."+t),require(t+e)}catch(e){}return!!_.holidays[e]&&(regions.length?n(e,regions):_.holidays[e])}function r(e,t,r,n){t=t||1;for(var a=g(e,n),i=_(e),o=e.year(),s=[],h=0;h<t;h++)for(var l=_(i);;){var f,d=!1;if(r?l.add(1,"day"):l.subtract(1,"day"),l.year()!==o&&(a=g(l,n),o=l.year()),!Object.keys(a).length){d=!0;break}for(f in a)if(a.hasOwnProperty(f)){for(var y=!1,u=P(a[f]),c=0;c<u.length;c++)if(l.isSame(u[c],"day")){s.push(u[c]),i=_(l),y=!0;break}if(y){d=!0;break}}if(d)break}return!!s.length&&(1===s.length?s[0]:s)}var _="undefined"==typeof require||null===require||require.amd?this.moment:require("moment"),x=[],c=function(e,t,r){for(var n,a=[],i=0;i<x.length;i++){var o=x[i](e,t);!o&&!1!==o||(n=o)}if(!1===n)return!1;if("string"==typeof n?t=n:n&&(a=n),!_.isMoment(a)&&!a.length&&t.charAt(0).match(/[0-9(]/)){var s=!1;1<(d=t.split("|")).length&&(s=!0),2<d.length&&(d=[d[0],d[1]]);for(i=0;i<d.length;i++){var h=_(e),l=d[i].split("/");if(1===l.length||2===l.length&&"("!==l[1].charAt(0)&&4===l[1].length){var f=d[i];i=-1;for(var d=[],y=1;y<13;y++)d.push(y+"/"+f)}else if(2<l.length&&h.year(parseInt(l[2])),h.month(parseInt(l[0])-1),"("===l[1].charAt(0)){var u=l[1].slice(1,-1).split(","),c=parseInt(u[0]),v=parseInt(u[1]),g=_(h).startOf("month"),p=_(h).endOf("month").diff(g,"days")+1,O=[];if(u[1]&&"["===u[1].charAt(0)){var b=!0;(v=parseInt(u[1].slice(1,-1)))<0&&(b=!1,v=parseInt(u[1].slice(2,-1)));for(var g=_(h).date(v),k=0;k<7;k++){if(g.day()===c){a.push(_(g));break}b?g.add(1,"day"):g.subtract(1,"day")}}else{for(var w=0;w<p;w++)g.day()===c&&O.push(_(g)),g.add(1,"day");v?a.push(h=v<0?O[O.length+v]:O[v-1]):a=a.concat(O)}}else a.push(h.date(l[1]))}if(s&&1<a.length){var m=a[1].diff(a[0],"days");if(1<m)for(var j=_(a[0]),a=[a[0]],i=0;i<m;i++)j.add(1,"day"),a.push(_(j))}}a=P(a);for(i=0;i<a.length;i++)_.isMoment(a[i])?(r&&(0===a[i].day()&&(a[i]=a[i].add(1,"day")),6===a[i].day())&&(a[i]=a[i].subtract(1,"day")),a[i]=a[i].startOf("day")):delete a[i];return!!a.length&&(1===a.length?a[0]:a)},v=function(e,t){var r=[];t=P(t);for(var n=0;n<t.length;n++){var a=e.match(new RegExp(t[n],"gi"));a&&(r=r.concat(a))}return r},d=function(e,t,r,n,a){var i={},o=[],s={};if((h=a||_.holidays.active).hasOwnProperty(t))o.push(t);else if(fk=p(t,h))o.push(fk);else{for(var l in h)if(h.hasOwnProperty(l)){if(i[l]=v(t,l.split(/[\s,.-]+/).filter(function(e){return 2<e.length})).length,h[l].keywords_n)if(v(t,h[l].keywords_n).length){i[l]=0;continue}if(h[l].keywords_y){var f=v(t,h[l].keywords_y);if(!f||f.length!==h[l].keywords_y.length){i[l]=0;continue}i[l]+=f.length}h[l].keywords&&(f=v(t,h[l].keywords))&&(i[l]+=f.length)}for(var d in i)i[d]&&i.hasOwnProperty(d)&&(o.length&&i[d]!==i[o[0]]?i[d]>i[o[0]]&&(o=[d]):o.push(d))}if(!o.length)return!1;if(!1===n)return o;for(var y=0;y<o.length;y++){var u=c(e,h[o[y]].date,r);u&&(s[o[y]]=u)}return!!Object.keys(s).length&&s},g=function(e,t){var r,n=_.holidays.active,a={};for(r in n)n.hasOwnProperty(r)&&(td=c(e,n[r].date,t))&&(a[r]=td);return a},n=function(e,t){var r=_.holidays[e],n={};if(r)for(var a=0;a<t.length;a++){var i,o,s,h=t[a].toLowerCase(),l=_.holidays[e+"/"+h],l={};for(i in r)r.hasOwnProperty(i)&&(o=r[i].regions||[],s=r[i].regions_n||[],o.length&&o.join().toLowerCase().split(),s.length&&s.join().toLowerCase().split(),!o.length&&!s.length||o.length&&~o.indexOf(h)||s.length&&!~s.indexOf(h))&&(l[i]=r[i]);l&&(n=y(n,l))}return!!Object.keys(n).length&&n},P=function(e){return e&&e.constructor!==Array?[e]:e},p=function(e,t){t.constructor===Object&&(t=Object.keys(t));for(var r=0;r<t.length;r++)if(e.toLowerCase()===t[r].toLowerCase())return t[r];return!1},y=function(e,t){return Object.assign({},e,t)};_.fn.holiday=function(e,t){_.holidays.active;var r={},n=!1;if(e){e.constructor!==Array&&(n=!0,e=[e]);for(var a=0;a<e.length;a++)(td=d(this,e[a],t))&&(r=Object.assign({},r,td))}else r=g(this,t);var i=Object.keys(r);return!!i.length&&(1===i.length&&n?r[i[0]]:r)},_.fn.holidays=function(e,t){return this.holiday(e,t)},_.fn.isHoliday=function(e,t){var r,n,a=[],i=e?(e=P(e),r=this.holiday(e,t),!1):(r=g(this,t),!0);if(!r)return!1;for(n in r)if(r.hasOwnProperty(n))for(var o=P(r[n]),s=0;s<o.length;s++)if(this.isSame(o[s],"day")){if(!i)return!0;a.push(n)}return!!a.length&&(1===a.length?a[0]:a)},_.fn.previousHoliday=function(e,t){return r(this,e,!1,t)},_.fn.previousHolidays=function(e,t){return this.previousHoliday(e,t)},_.fn.nextHoliday=function(e,t){return r(this,e,!0,t)},_.fn.nextHolidays=function(e,t){return this.nextHoliday(e,t)},_.fn.holidaysBetween=function(e,t){e=e||new Date,e=_(e).subtract(1,"day");for(var r=g(this,t),n=_(this),a=n.year(),i=[],o=0;o<e.diff(this,"days")&&(n.add(1,"day"),n.year()!==a&&(r=g(n,t),a=n.year()),Object.keys(r).length);o++)for(var s in r){for(var h=!1,l=P(r[s]),f=0;f<l.length;f++)if(n.isSame(l[f],"day")){i.push(l[f]),h=!0;break}if(h)break}return!!i.length&&i},_.holidays={active:{},active_last:{}},_.modifyHolidays={set:function(e,t){var r={};if(e.constructor===Array){for(var n=[],a=0;a<e.length;a++){var i=d(this,e[a],null,!1);i&&(n=n.concat(i))}if(n.length)for(var o in r=y(_.holidays.active))!r.hasOwnProperty(o)||~n.indexOf(o)||delete r[o]}else if("string"==typeof e){var s=f(e);if(s)if(t)for(var h=l(this,t,!1,!1,s),a=0;a<h.length;a++)r[h[a]]=y(s[h[a]]);else r=y(s)}else r=e;return!Object.keys(r).length&&e!==r||Object.is(_.holidays.active,r)||(_.holidays.active_last=y(_.holidays.active),_.holidays.active=r),this},add:function(e,t){if("string"==typeof e){var r=f(e);if(e={},r)if(t)for(var n=l(this,t,!1,!1,r),a=0;a<n.length;a++)e[n[a]]=y(r[n[a]]);else e=r}return Object.keys(e).length&&(_.holidays.active_last=y(_.holidays.active),_.holidays.active=y(_.holidays.active,e)),this},remove:function(e){e=P(e);var t=l(this,e,!1,!1),r=y(_.holidays.active);if(t)for(var n=0;n<t.length;n++)delete r[t[n]];return Object.is(_.holidays.active,r)||(_.holidays.active_last=y(_.holidays.active),_.holidays.active=r),this},undo:function(){var e=y(_.holidays.active);return _.holidays.active=y(_.holidays.active_last),_.holidays.active_last=e,this},load:function(e){e=P(e);for(var t=0;t<e.length;t++)f(e[t]);return this},extendParser:function(e){return x.push(e),this}},null!=("undefined"!=typeof module&&null!==module?module.exports:void 0)&&(module.exports=_)}.call(this);
//# sourceMappingURL=moment-holiday.min.js.map
